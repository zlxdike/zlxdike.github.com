<!doctype html>



  


<html class="theme-next pisces use-motion">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, zlxdike">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2">






<meta name="description" content="努力就一定有未来？">
<meta property="og:type" content="website">
<meta property="og:title" content="大叔，你怎么看！">
<meta property="og:url" content="http://zlxdike.github.io/index.html">
<meta property="og:site_name" content="大叔，你怎么看！">
<meta property="og:description" content="努力就一定有未来？">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大叔，你怎么看！">
<meta name="twitter:description" content="努力就一定有未来？">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://zlxdike.github.io/">


  <title> 大叔，你怎么看！ </title>
</head>

<body itemscope="" itemtype="//schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?e4da885e36a6c6912ce45996d74616d7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">大叔，你怎么看！</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/10/22/Windows硬链接解决某盘空间不足/" itemprop="url">
                  Windows硬链接解决某盘空间不足
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-10-22T10:24:28+08:00" content="2018-10-22">
              2018-10-22
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Windows/" itemprop="url" rel="index">
                    <span itemprop="name">Windows</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2018/10/22/Windows硬链接解决某盘空间不足/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/10/22/Windows硬链接解决某盘空间不足/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>iTunes备份太庞大导致C盘空间不足，还有Vmware虚拟机创建得时候默认用了C盘，随着后期使用可能导致C盘空间不足。同个硬链接可以把iTunes备份转移到其他盘，把Vmware虚拟机转移到其他盘，从而释放C盘空间占用！<br><img src="http://oevfty3i3.bkt.clouddn.com/18-10-22/55115147.jpg" alt="jpg"></p>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>下载一个 <a href="https://download.sysinternals.com/files/Junction.zip" target="_blank" rel="noopener">Junction 工具</a></p>
<p>###正式开始</p>
<ol>
<li>下载来的Junction.zip解压出来。假设解压在<code>D:\junction</code>。</li>
<li>找到你的 iTunes 备份文件夹，Win10这个文件夹会在： <code>%APPDATA%\Apple Computer\MobileSync</code>复制到文件夹管理器回车即可显示真实路径！<br><img src="http://oevfty3i3.bkt.clouddn.com/18-10-22/46119017.jpg" alt="jpg"><br>C:\Users\（你的用户名）\AppData\Roaming\Apple Computer\MobileSync</li>
<li>在D盘创建一个文件夹叫iTunesBackup(名字随便)</li>
<li>把iTunes备份文件夹（MobileSync）剪切到<code>D:\iTunesBackup</code></li>
<li>打开cmd(管理员权限运行)。输入以下命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:        			#先切换到D盘</span><br><span class="line">cd D:/junction</span><br><span class="line">junction &quot;C:\Users\（你的用户名）\AppData\Roaming\Apple Computer\MobileSync&quot; &quot;D:\iTunesBackup\MobileSync&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>回到<code>%APPDATA%\Apple Computer\</code>，会发现<code>MobileSync</code>的图标上有一个小箭头，打开之后会直接进入你链接去的磁盘。<br><img src="http://oevfty3i3.bkt.clouddn.com/18-10-22/30906530.jpg" alt="jpg"><br>iTunes 里不需要任何修改，也不需要重新分区，C 盘空间重新被释放，一切使用都可以照旧。</p>
<p>类似得Vmware也可以根据这样进行操作。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/28/Vultr-VPS-SSH密钥登录/" itemprop="url">
                  Vultr VPS SSH密钥登录
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-28T14:40:46+08:00" content="2017-05-28">
              2017-05-28
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Vultr/" itemprop="url" rel="index">
                    <span itemprop="name">Vultr</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/28/Vultr-VPS-SSH密钥登录/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/28/Vultr-VPS-SSH密钥登录/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>当VPS暴露在外网中，就会有人不断暴力破解你的SSH登录。于是就有必要使用SSH密钥来登录。并关闭密码登录。<br>用以下命令可以查看别人暴力破解你SSH密码登录的大概情况！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;Failed password for invalid user&quot; /var/log/secure | awk &apos;&#123;print $13&#125;&apos; | sort | uniq -c | sort -nr | more</span><br></pre></td></tr></table></figure>
<p><img src="http://oevfty3i3.bkt.clouddn.com/20170528149595407252948.jpg?imageView2/0/format/jpg" alt="jpg"><br>就我自己的购买的VPS来说。暴力破解次数最多达到2475次！各位也可以去看看自己的。。</p>
<h3 id="生成"><a href="#生成" class="headerlink" title="生成"></a>生成</h3><p>使用<code>ssh-keygen</code>在自己的PC上来生成密钥对。Linux或者macOS都可以直接通过terminal来操作！如果是windows。需要用PuTTYgen软件来生成。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@host ~]$ ssh-keygen -t rsa &lt;== 建立密钥对</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): &lt;== 按 Enter</span><br><span class="line">Created directory &apos;/root/.ssh&apos;.</span><br><span class="line">Enter passphrase (empty for no passphrase): &lt;== 输入密钥锁码，或直接按 Enter 留空</span><br><span class="line">Enter same passphrase again: &lt;== 再输入一遍密钥锁码</span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa. &lt;== 私钥</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub. &lt;== 公钥</span><br></pre></td></tr></table></figure>
<p>可参考<a href="https://www.vultr.com/docs/how-do-i-generate-ssh-keys/" target="_blank" rel="noopener">Vultr官方生成教程</a></p>
<h3 id="配置Vultr"><a href="#配置Vultr" class="headerlink" title="配置Vultr"></a>配置Vultr</h3><p>创建VPS的时候可以直接制定SSH密钥登录。。如果是已经创建好的VPS。</p>
<ol>
<li>将<code>id_rsa.pub</code> 放到<code>/root/.ssh</code>目录下。并改名为<code>authorized_keys</code></li>
<li>修改sshd_config配置文件<code>vi /etc/ssh/sshd_config</code></li>
<li>重启SSH服务，centos7使用命令<code>systemctl restart sshd</code>，centos6使用命令<code>/etc/init.d/sshd restart</code></li>
</ol>
<p>sshd_config配置文件修改相关选项如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RSAAuthentication yes #RSA认证</span><br><span class="line">PubkeyAuthentication yes #开启公钥验证</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys #验证文件路径</span><br><span class="line">PasswordAuthentication no #禁止密码认证</span><br><span class="line">PermitEmptyPasswords no #禁止空密码</span><br></pre></td></tr></table></figure>
<p>自此。便成功更改为密钥登录！</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>如果你用的是Window系统要登录VPS需要将私钥下载到客户端，然后转换为 PuTTY 能使用的格式</p>
<p>使用 WinSCP、SFTP 等工具将私钥文件 id_rsa 下载到客户端机器上。然后打开 PuTTYGen，单击 Actions 中的 Load 按钮，载入你刚才下载到的私钥文件。如果你刚才设置了密钥锁码，这时则需要输入。</p>
<p>载入成功后，PuTTYGen 会显示密钥相关的信息。在 Key comment 中键入对密钥的说明信息，然后单击 Save private key 按钮即可将私钥文件存放为 PuTTY 能使用的格式。</p>
<p>今后，当你使用 PuTTY 登录时，可以在左侧的 Connection -&gt; SSH -&gt; Auth 中的 Private key file for authentication: 处选择你的私钥文件，然后即可登录了，过程中只需输入密钥锁码即可。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/28/服务器Mysql数据库定时备份到本地PC/" itemprop="url">
                  服务器Mysql数据库定时备份到本地PC
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-28T14:39:54+08:00" content="2017-05-28">
              2017-05-28
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/28/服务器Mysql数据库定时备份到本地PC/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/28/服务器Mysql数据库定时备份到本地PC/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>数据库就是命脉。一切东西都可以不见。环境没了重新搭建。。系统崩了。重装。。但是数据没了。哭去吧。。于是定期备份数据库别提有多重要的。。你可以选择定期备份在服务器上。也可以选择定期备份到自己的PC上。本文是定期备份到我自己的macOS上。。其他系统可以参考！</p>
<h3 id="Mysql相关设置"><a href="#Mysql相关设置" class="headerlink" title="Mysql相关设置"></a>Mysql相关设置</h3><p>创建一个专门用于备份的用户，当然你喜欢用root用户来备份也是可以！<br>先登录mysql</p>
<p><code>mysql -u root -p</code></p>
<p>创建备份权限的用户<code>{bakname}</code>，<code>{passwd}</code>自行修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRANT SELECT,RELOAD,SHOW DATABASES,LOCK TABLES,EVENT,REPLICATION CLIENT ON *.* TO &#123;bakname&#125;@&quot;%&quot; IDENTIFIED BY &quot;&#123;passwd&#125;&quot;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
<p>由于要备份到本地的PC上所以我设置的用户是具有远程访问权限的！</p>
<h3 id="macOS配置"><a href="#macOS配置" class="headerlink" title="macOS配置"></a>macOS配置</h3><p>利用mysqldump进行备份。。此软件可以在mysql workbench community中找到。<br><img src="http://oevfty3i3.bkt.clouddn.com/20170528149595696780542.jpg?imageView2/0/format/jpg" alt="jpg"><br>利用macOS定时任务。进行定时备份。macOS可以选<code>crontab</code>或者<code>launchctl</code>就看你习惯。</p>
<p>我选择用<code>launchctl</code>。<br>这个是通过plist配置的方式来实现定时任务的，其优点就是最小时间间隔是一秒</p>
<p>plist脚本存放路径为<code>/Library/LaunchDaemons</code>或<code>/Library/LaunchAgents</code>，其区别是后一个路径的脚本当用户登陆系统后才会被执行，前一个只要系统启动了，哪怕用户不登陆系统也会被执行。</p>
<p>可以通过两种方式来设置脚本的执行时间。一个是使用<code>StartInterval</code>，它指定脚本每间隔多长时间（单位：秒）执行一次；另外一个使用<code>StartCalendarInterval</code>，它可以指定脚本在多少分钟、小时、天、星期几、月时间上执行，类似如crontab的中的设置。</p>
<p>例:</p>
<p>新建一个shell文件/Users/yourname/Documents/bakmysql.sh，并将mysqldump与bakmysql.sh放在一起。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># Name:bakmysql.sh</span><br><span class="line"># This is a ShellScript For Auto DB Backup and Delete old Backup</span><br><span class="line"># 备份路径</span><br><span class="line">backupdir=/Users/yourname/bak/mysql</span><br><span class="line"># 用户名密码自行修改</span><br><span class="line">user=&#123;bakname&#125;</span><br><span class="line">passwd=&apos;&#123;passwd&#125;&apos;</span><br><span class="line"># 数据库名</span><br><span class="line">db=db</span><br><span class="line">time=` date +%Y%m%d%H%M `</span><br><span class="line"># 增加可执行权限</span><br><span class="line">chmod +x $backupdir/mysqldump</span><br><span class="line"></span><br><span class="line"># 设置mysql ip和port</span><br><span class="line">host=&#123;ip&#125;</span><br><span class="line">port=&#123;port&#125;</span><br><span class="line"># 设置将要备份的表名。有的表可能不是需要备份的。比如日志。自己考虑！</span><br><span class="line">table=&apos;error user user_order&apos;</span><br><span class="line"># 使用mysqldump备份数据</span><br><span class="line">$backupdir/mysqldump -u $user -p$passwd -P $port -h $host $db $table | gzip &gt; $backupdir/database_$time.sql.gz</span><br><span class="line"># 删除7天前的备份</span><br><span class="line">find $backupdir -name &quot;database_*.sql.gz&quot; -type f -mtime +7 -exec rm &#123;&#125; \; &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">echo &quot;success&quot;</span><br></pre></td></tr></table></figure>
<p>该脚本。将数据库数据备份后并压缩。同时会删除7天前的数据备份。可以自行参考修改！<br>脚本要改成可执行的权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 bakmysql.sh</span><br></pre></td></tr></table></figure>
<p>进入到<code>~/Library/LaunchAgents</code>下建一个plist文件<code>com.yourname.bakmysql.plist</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">&lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">  &lt;key&gt;Label&lt;/key&gt;</span><br><span class="line">  &lt;string&gt;com.yourname.bakmysql.plist&lt;/string&gt;</span><br><span class="line">  &lt;key&gt;ProgramArguments&lt;/key&gt;</span><br><span class="line">  &lt;array&gt;</span><br><span class="line">    &lt;string&gt;/Users/yourname/bak/mysql/bakmysql.sh&lt;/string&gt;</span><br><span class="line">  &lt;/array&gt;</span><br><span class="line">  &lt;key&gt;StartCalendarInterval&lt;/key&gt;</span><br><span class="line">  &lt;dict&gt;</span><br><span class="line">        &lt;key&gt;Minute&lt;/key&gt;</span><br><span class="line">        &lt;integer&gt;4&lt;/integer&gt;</span><br><span class="line">        &lt;key&gt;Hour&lt;/key&gt;</span><br><span class="line">        &lt;integer&gt;13&lt;/integer&gt;</span><br><span class="line">  &lt;/dict&gt;</span><br><span class="line">  &lt;key&gt;StandardOutPath&lt;/key&gt;</span><br><span class="line">&lt;string&gt;/Users/yourname/bak/mysql/bakmysql.log&lt;/string&gt;</span><br><span class="line">&lt;key&gt;StandardErrorPath&lt;/key&gt;</span><br><span class="line">&lt;string&gt;/Users/yourname/bak/mysql/bakmysqlerr.log&lt;/string&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
<p><code>label</code>这里就是给这个任务名个名字，这里一般取plist的文件名，这个名字不能和其它的plist重复。<code>bakmysql.sh</code>就是我们要执行的脚本，<code>StartCalendarInterval</code>里边的参数是说每一天13点4分的时候执行一下脚本。</p>
<p>然后就可以用下面的几个命令进行操作我们做好的任务了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">launchctl load   com.yourname.bakmysql.plist</span><br><span class="line">launchctl unload com.yourname.bakmysql.plist</span><br><span class="line">launchctl start  com.yourname.bakmysql.plist</span><br><span class="line">launchctl stop   com.yourname.bakmysql.plist</span><br><span class="line">launchctl list</span><br></pre></td></tr></table></figure>
<ol>
<li>要让任务生效，必须先load命令加载这个plist。</li>
<li>如果任务被修改了，那么必须先unload，然后重新load。</li>
<li>start可以测试任务，这个是立即执行，不管时间到了没有。</li>
<li>执行start和unload前，任务必须先load过，否则报错。</li>
<li>stop可以停止任务。</li>
</ol>
<p><code>ProgramArguments</code>内不能直接写命令，只能通过shell脚本来执行。<br>上面的任务我们也可以指定为每隔30秒执行一次，如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">&lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">    &lt;key&gt;Label&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;com.yourname.bakmysql.plist&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;ProgramArguments&lt;/key&gt;</span><br><span class="line">    &lt;array&gt;</span><br><span class="line">        &lt;string&gt;/Users/yourname/bak/mysql/bakmysql.sh&lt;/string&gt;</span><br><span class="line">    &lt;/array&gt;</span><br><span class="line">    &lt;key&gt;KeepAlive&lt;/key&gt;</span><br><span class="line">    &lt;false/&gt;</span><br><span class="line">    &lt;key&gt;RunAtLoad&lt;/key&gt;</span><br><span class="line">    &lt;true/&gt;</span><br><span class="line">    &lt;key&gt;StartInterval&lt;/key&gt;</span><br><span class="line">    &lt;integer&gt;30&lt;/integer&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/10/B75M-D3V-Ozmosis-再战macOS-Sierra！/" itemprop="url">
                  B75M-D3V Ozmosis 再战macOS Sierra！
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-04-10T01:32:32+08:00" content="2017-04-10">
              2017-04-10
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/macOS/" itemprop="url" rel="index">
                    <span itemprop="name">macOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/04/10/B75M-D3V-Ozmosis-再战macOS-Sierra！/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/04/10/B75M-D3V-Ozmosis-再战macOS-Sierra！/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h3><blockquote>
<p>本文建议有一定黑苹果基础的来看。也只是自己折腾Ozmosis引导的一些过程。仅供参考！</p>
</blockquote>
<p>之前用的Clover引导的macOS 10.11。几个月前，由于某些原因，回到了win10。这两天又想用回macOS。本来不想折腾。直接用最新的Clover。加上之前10.11用的配置来引导macOS Sierra。没想到折腾几下都进不去。于是想。既然免不了折腾了。那干脆试试Ozmosis。后来换了几个Rom后的确。安装成功了。也进入了系统。。除了声卡。其它一切都没什么大问题。不过不知为何Ozmosis的EFI分区里面放入Kexts总是不行。。最后还是重新搞了Clover引导去测试了Kexts。</p>
<blockquote>
<p>所以。在没有完美主板ROM的时候，要想搞Ozmosis。最好还是先把Clover搞好。再去做Ozmosis引导！</p>
</blockquote>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul>
<li>主板：技嘉GA B75M-D3V Rev 1.1</li>
<li>显卡：迪兰恒进 AMD 6750 DDR5</li>
<li>CPU：Intel E3 1230 V2</li>
<li>声卡：ALC 887</li>
<li>网卡：RTL 8111</li>
</ul>
<p>这配置都是好几年前的了。我第一台属于自己组装来黑苹果的，之前都是用家里的电脑黑。说到黑苹果。一眨眼就过去了那么多年。第一次黑的时候。还只是10.6，那时候10.7都还没出。也担任过Pcbeta的版主。现在都10.12了。时间过的真快！往事还历历在目！</p>
<h3 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h3><blockquote>
<p>文中提到的附件。都在文章结尾提供！</p>
</blockquote>
<h4 id="第一步刷BIOS"><a href="#第一步刷BIOS" class="headerlink" title="第一步刷BIOS"></a>第一步刷BIOS</h4><p>这里提供的BIOS是Rev1.1的。对于主板是Rev1.0 Rev1.1 Rev1.2的理论通用。。不建议REV2.0版本的刷！！！<br>刷前请搞清楚自己BIOS的版本！！！</p>
<p>找个U盘格式化为Fat32。放入主板Bios Rom。重启。使用Q-Flash刷Bios。刷前最好先备份下原来的BIOS。这块主板有Daul Bios。也就是双BIOS。。大胆刷。。。不过还是有可能刷死的。。怕死就不用继续往下看了。<code>刷BIOS有风险。后果自负！！</code></p>
<blockquote>
<p>技嘉科技发明的一种双bios技术，让主bios rom(main bios)在不能工作的情况下由备份bios rom(back up bios)进行接管，并将备份bios中的出厂启动项重新写入主bios让主板顺利进入系统。</p>
</blockquote>
<p>我这里提供几个ROM：自己根据需求刷吧。每个ROM都是加入了Ozmosis引导的了。<br>刷完BIOS后设置下。<br><img src="http://oevfty3i3.bkt.clouddn.com/2017041027908biso1.png" alt="2017041027908biso1.png"><br><img src="http://oevfty3i3.bkt.clouddn.com/2017041012846bios2.png" alt="2017041012846bios2.png"><br><img src="http://oevfty3i3.bkt.clouddn.com/2017041093192bios3.png" alt="2017041093192bios3.png"></p>
<blockquote>
<p>一开始由于并不想用Clover引导。直接折腾的Ozmosis。。为此找了好几个ROM。直接去德国论坛下载的Ozmosis B75M Bios刷了压根进不去。。卡在苹果读条。。后面才知道是Bios里面的FakeSmc.kext导致。。我一开始用的Clover引导进不去也是由于这个Kext。</p>
</blockquote>
<ul>
<li>B75MD3V-F13-Rev1.1-167x.rom</li>
<li>B75MD3V-F13-Rev1.1-RTL8111.rom</li>
<li>B75MD3V-F13-Rev1.1_AppleALC.rom </li>
<li>B75MD3V-F13-Rev1.1_AppleALC_RTL8111.rom</li>
<li>B75MD3V-F13-Rev1.1_AppleALC_RTL8111_DSDT.rom</li>
</ul>
<blockquote>
<p>B75MD3V-F13-Rev1.1-167x.rom </p>
</blockquote>
<p>包含最基础的167x Ozmosis引导组件。<br>还带网卡驱动RTL8111 V1.2版本！<br>用了这个。除了声卡其它都驱动了。</p>
<p>不过我的显卡早在用Clover引导的时候就不能通过Clover来驱动。只要通过Clover Inject Ati这种方式来驱动，虽然系统信息里面能显示ATI Radeon HD 5750。但是睡眠就唤醒不了。还有就是鼠标卡帧。。就是用着用着鼠标突然卡一下。很频繁。。由于这个ROM并没有Disable ATI Inject。所以这个睡眠和鼠标卡帧存在。。</p>
<p>其实我这显卡。我改过显卡的ROM里面的ID。。直接改成5750的ID。并不需要任何工具。插上直接驱动。这也是为什么用Clover Inject Ati后系统里面显示的是5750.而不是6750。当然不知道是不是因为改了这个ID。导致通过Inject Ati驱动卡帧和睡眠唤醒不正常。。不过这样系统信息里面显示的是ATI Radeon HD5000。不过并不影响正常工作！</p>
<blockquote>
<p>B75MD3V-F13-Rev1.1-RTL8111.rom</p>
</blockquote>
<p>这个ROM是在<code>B75MD3V-F13-Rev1.1-167x.rom</code>的基础上。修改了OzmosisDefaults.plist。屏蔽掉Ati Inject解决鼠标掉帧卡顿。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;DisableAtiInjection&lt;/key&gt;</span><br><span class="line">&lt;true/&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>B75MD3V-F13-Rev1.1_AppleALC.rom </p>
</blockquote>
<p>这个ROM是在<code>B75MD3V-F13-Rev1.1-167x.rom</code>基础上删除了RTL8111网卡驱动。加入了声卡驱动。。Layout ID为5。。所以还要跟DSDT搭配才能成功驱动AppleHDA。先挂载EFI分区，在<code>/EFI/Oz/Acpi/Load</code>目录下放入DSDT即可！</p>
<p>以下是挂载命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil list;       #查看EFI分区情况！我的电脑为disk0s1</span><br><span class="line">sudo mkdir /Volumes/EFI;  #新建分区目录将用于挂载EFI分区</span><br><span class="line">sudo mount -t msdos /dev/disk0s1 /Volumes/EFI    #根据情况修改disk0s1</span><br></pre></td></tr></table></figure>
<p>有人可能会问了。为什么不直接插入AppleALC。而选择删除网卡驱动，在加入声卡驱动。原因是BIOS ROM的空间有限。不是想插入什么就插入什么的。。我一开始并不知道怎么样才能让2个驱动同时插入进去。期间将BIOS里面现有的Fakesmc和RTL8111kext替换了占用空间更小的版本。可是还是不够空间插入AppleALC。不过这个问题后来通过别的方法解决了。</p>
<blockquote>
<p>B75MD3V-F13-Rev1.1_AppleALC_RTL8111.rom</p>
</blockquote>
<p>这个ROM是在<code>B75MD3V-F13-Rev1.1-167x.rom</code>的基础上。替换了FakeSMC。升级RTL8111驱动为2.0版本。插入AppleALC驱动1.019版本。AppleALC从v1.1.0开始就把就需要搭配Lilu.kext才能驱动。。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.1.0 AppleALC now has its kernel patcher moved to Lilu.kext</span><br></pre></td></tr></table></figure>
<p>还有AppleALC还必须用GenAppleALC.sh处理下才能被Ozmosis引导。其实也就是将PinConfigs的Info.plist一起整合到AppleAlc的Info.plist中去即可！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ozmosis has a bug. It cannot load PinConfigs.kext. PinConfigs.kext has no CFBundleExecutable.</span><br><span class="line">To fix this you need to merge IOKitPersonalities from PinConfigs.kext with AppleALC.kext.</span><br></pre></td></tr></table></figure>
<p>所以我选择用1.019版本纯属一开始为了减小Kext的大小。。如果是用最新的AppleALC+Lilu的话。远比1.019版本要大。</p>
<p>至于BIOS空间问题的解决纯属意外发现。。OzMTool工具可以直接为最原始的ROM插入Ozmosis引导组件。我在用这个工具的时候发现。里面有个删除PXE的！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--aggressivity 0: Try to inject the files as-is</span><br><span class="line">--aggressivity 1: Deletes files for BIOS Network Support (PXE etc.)</span><br><span class="line">--aggressivity 2: Deletes non-essential Ozmosis files - keeps the Ozmosis base</span><br></pre></td></tr></table></figure>
<p><img src="http://oevfty3i3.bkt.clouddn.com/20170411732961.png" alt="20170411732961.png"></p>
<p>删除的主要是这些模块。。PXE主要是网络唤醒。对我就是个没用的功能！<br>删除了PXE后。空间就明显够用了。。用了这个ROM后。搭配DSDT。基本可以算上完美了！！！<br>而且这个DSDT也修正了前置USB。</p>
<blockquote>
<p>B75MD3V-F13-Rev1.1_AppleALC_RTL8111_DSDT.rom</p>
</blockquote>
<p>此ROM是在<code>B75MD3V-F13-Rev1.1\_AppleALC\_RTL8111.rom</code>的基础上插入了DSDT。同样用的OzMTool。<br>刷了此ROM。EFI分区里面的DSDT都可以删除了。。只要这个BIOS ROM。全部搞定。。</p>
<blockquote>
<p>我一开始刷的B75MD3V-F13-Rev1.1-167x.rom这个最原始的进行的安装。虽然后面修改了好几个版本的ROM。不过我倒没去测试过能否正常安装。。上面说的一堆都是废话。。与我配置相近的可以直接B75MD3V-F13-Rev1.1_AppleALC_RTL8111.rom去试试。失败的话。在换别的ROM做尝试！</p>
</blockquote>
<h4 id="第二步制作安装盘"><a href="#第二步制作安装盘" class="headerlink" title="第二步制作安装盘"></a>第二步制作安装盘</h4><p>如果还有一个U盘可以直接写个macOS Sierra懒人版。如果没有。可以格式化了原来的U盘。总之一句话。制作个懒人版安装盘。。懒人版可以去Pcbeta下载。这里不啰嗦了。据说Ozmosis可以直接原版光盘安装。不过我没试过。我只试过懒人版！找的Pcbeta最新的10.12.4懒人版。</p>
<h4 id="第三步开始安装"><a href="#第三步开始安装" class="headerlink" title="第三步开始安装"></a>第三步开始安装</h4><p>正常情况下刷了上面的BIOS ROM后。插入macOS安装盘。并通过第一步的设置后。开机按F12直接选安装盘引导。就可以开始安装了。安装过程很容易！</p>
<h4 id="第四步完善"><a href="#第四步完善" class="headerlink" title="第四步完善"></a>第四步完善</h4><p>10.12.4这个版本。AMD显卡很多都出现闪屏。只要屏幕内容有任何改变，比如打字啊。打开窗口啊等等。屏幕就闪。颜色也变得很奇怪！解决方法也很简单。。用SwitchResX修改下百万色即可解决！</p>
<p><img src="http://oevfty3i3.bkt.clouddn.com/20170410149181275781971.jpg?imageView2/0/format/jpg" alt="jpg"></p>
<p><img src="http://oevfty3i3.bkt.clouddn.com/2017041024677QQ20170410-162952.png" alt="2017041024677QQ20170410-162952.png"></p>
<p><img src="http://oevfty3i3.bkt.clouddn.com/201704102709QQ20170410-163321.png" alt="201704102709QQ20170410-163321.png"></p>
<p>原来修改前Billion of colors居然是30位彩色。修改后Million of colors反而是32位彩色。怀疑系统本身的Bug。不知道后面的版本会不会修复！</p>
<p>原本我这显卡。用的DVI线连接的显示器。启动系统后。字体有一点点发虚。。使用Inject Ati的方式驱动显卡。就不会有这个问题。。但是鼠标卡顿不然忍。。于是想想算了。鱼和熊掌不可兼得。我宁愿字体有点发虚。但是可以换来唤醒正常。以及鼠标不卡帧。。</p>
<p>后来无意中睡眠唤醒后或者关闭显示器重开或者睡眠显示器重开。字体立马清晰回来。。就想起来显示器不是有自动调整的功能吗。。比如屏幕显示画面有一点错误。按下自动调整。可以自动把画面调整为正确位置。。才发现这个是VGA接口才有的功能。DVI没有这个功能。。于是换了条VGA线后。。果然。。这个问题就解决了。</p>
<blockquote>
<p>所以字体发虚的朋友们可以试试看！不一定有用！不过对我有用！！爽啊！</p>
</blockquote>
<h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><blockquote>
<p>从没这么简单！</p>
</blockquote>
<p>不过这一切都建立在有好的ROM。这期间我折腾了几天。一开始找了好几个。一直卡住引导白苹果进度条。后来找到一个可以引导的ROM后。就开始各种折腾。各种完善。。期间刷BIOS不下数十次！看了上文也知道。我在BIOS ROM上花费的时间占整个过程至少9成时间！</p>
<p>至于为什么不折腾Colver。。最重要的一点就是更新太快。。。太久没关注。。。感觉要花好多时间去跟上步骤。。。而Ozmosis更新少。稳定。。当然还有一点，以前从没搞过Ozmosis，也想尝尝鲜。所以我选择折腾Ozmosis。。不过更新少的东西。就可能随时不在更新。。不知道Ozmosis会不会就此止步10.12。。。</p>
<blockquote>
<p>附件：链接:<a href="https://pan.baidu.com/s/1pLDG2BD" target="_blank" rel="noopener">https://pan.baidu.com/s/1pLDG2BD</a> 密码:j36m</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/26/买个Vultr搭个SS梯子，稍微优化后到处遨游/" itemprop="url">
                  买个Vultr搭个SS梯子，稍微优化后到处遨游
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-26T12:15:04+08:00" content="2016-10-26">
              2016-10-26
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Vultr/" itemprop="url" rel="index">
                    <span itemprop="name">Vultr</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/26/买个Vultr搭个SS梯子，稍微优化后到处遨游/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/26/买个Vultr搭个SS梯子，稍微优化后到处遨游/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>为什么需要SS，相信我不用说，大伙也都明白。现在的梯子还是有很多的，看个人喜欢。</p>
<h3 id="Vultr-VPS"><a href="#Vultr-VPS" class="headerlink" title="Vultr VPS"></a>Vultr VPS</h3><blockquote>
<p>做下小广告，用我这个邀请链接注册可以你可以获得20刀<br><a href="http://www.vultr.com/?ref=7016853" target="_blank" rel="noopener">Vultr点我注册</a><br>友情提醒：注册Vultr后要充值最少5刀，才能新建主机（支持Payplay、信用卡支付）</p>
</blockquote>
<p>国内想要有相对好的速度，一般都会选择香港、日本或者新加坡的VPS。主要还要看你的网络环境。电信、联通、移动？Vultr目前有提供日本和新加坡的机房。怎么注册和怎么新建就不多说了。如果是有打算安装锐速的话。系统版本的选择就要注意了。目前锐速支持的内核是有限的。建议安装Centos6。Vultr默认可以安装的系统，可能由于内核比较新。在优化SS的时候会遇到一些问题。要么通过降级内核，要么通过Vultr VPS的Custom ISO安装自己想要的系统。如果是通过Custom ISO方式安装好系统，需要通过网页的View Console，修改下网卡设置。否则VPS无法上网也无法通过SSH连接。</p>
<blockquote>
<p>修改<strong>/etc/sysconfig/network-scripts/ifcfg-eth0</strong>文件<br>将ONBOOT=no改为ONBOOT=yes<br>重启VPS即可</p>
</blockquote>
<h3 id="安装SS"><a href="#安装SS" class="headerlink" title="安装SS"></a>安装SS</h3><p>这里有一键安装shadowsocks-libev脚本,安装过程会让设置密码和端口！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh</span><br><span class="line">chmod +x shadowsocks-libev.sh</span><br><span class="line">./shadowsocks-libev.sh 2&gt;&amp;1 | tee shadowsocks-libev.log</span><br></pre></td></tr></table></figure>
<p>shadowsocks-libev相关命令：<br>启动：/etc/init.d/shadowsocks start<br>停止：/etc/init.d/shadowsocks stop<br>重启：/etc/init.d/shadowsocks restart<br>查看状态：/etc/init.d/shadowsocks status</p>
<h3 id="SS优化"><a href="#SS优化" class="headerlink" title="SS优化"></a>SS优化</h3><ul>
<li>安装锐速</li>
<li>内核参数优化</li>
</ul>
<h5 id="安装锐速"><a href="#安装锐速" class="headerlink" title="安装锐速"></a>安装锐速</h5><p>锐速已经取消免费了。不过目前有破解版。<a href="https://github.com/91yun/serverspeeder" target="_blank" rel="noopener">锐速破解版点我</a>。可能随时被和谐。最快的方法是安装自带的CentOS6后降级内核，通过脚本安装就行了。</p>
<h5 id="内核参数优化"><a href="#内核参数优化" class="headerlink" title="内核参数优化"></a>内核参数优化</h5><p>修改内核参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/security/limits.conf</span><br></pre></td></tr></table></figure>
<p>增加下面2行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* soft nofile 51200</span><br><span class="line">* hard nofile 51200</span><br></pre></td></tr></table></figure>
<p>首先科普下TCP拥塞控制算法：<br>TCP的设计目的是解决不可靠线路上可靠传输的问题，即为了解决丢包，但丢包却使TCP传输速度大幅下降。HTTP协议在传输层使用的是TCP协议，所以网页下载的速度就取决于TCP单线程下载的速度（因为网页就是单线程下载的）。丢包使得TCP传输速度大幅下降的主要原因是丢包重传机制，控制这一机制的就是TCP拥塞控制算法。</p>
<p>Linux内核中提供了若干套TCP拥塞控制算法，这些算法各自适用于不同的环境。</p>
<ol>
<li>reno是最基本的拥塞控制算法，也是TCP协议的实验原型。</li>
<li>bic适用于rtt较高但丢包极为罕见的情况，比如北美和欧洲之间的线路，这是2.6.8到2.6.18之间的Linux内核的默认算法。</li>
<li>cubic是修改版的bic，适用环境比bic广泛一点，它是2.6.19之后的linux内核的默认算法。</li>
<li>hybla适用于高延时、高丢包率的网络，比如卫星链路</li>
</ol>
<p>加载hybla</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/modprobe tcp_hybla</span><br></pre></td></tr></table></figure>
<p>修改sysctl.conf配置文件，优化TCP参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
<p>增加下面设置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#提高整个系统的文件限制</span><br><span class="line">fs.file-max = 51200</span><br><span class="line">net.core.rmem_max = 67108864</span><br><span class="line">net.core.wmem_max = 67108864</span><br><span class="line">net.core.netdev_max_backlog = 250000</span><br><span class="line">net.core.somaxconn = 3240000</span><br><span class="line"> </span><br><span class="line">net.ipv4.tcp_syncookies = 1</span><br><span class="line">net.ipv4.tcp_tw_reuse = 1</span><br><span class="line">net.ipv4.tcp_tw_recycle = 0</span><br><span class="line">net.ipv4.tcp_fin_timeout = 30</span><br><span class="line">net.ipv4.tcp_keepalive_time = 1200</span><br><span class="line">net.ipv4.ip_local_port_range = 10000 65000</span><br><span class="line">net.ipv4.tcp_max_syn_backlog = 8192</span><br><span class="line">net.ipv4.tcp_max_tw_buckets = 5000</span><br><span class="line">#如果linux内核3.10以上，可开启fastopen</span><br><span class="line">#net.ipv4.tcp_fastopen = 3</span><br><span class="line">net.ipv4.tcp_rmem = 4096 87380 67108864</span><br><span class="line">net.ipv4.tcp_wmem = 4096 65536 67108864</span><br><span class="line">net.ipv4.tcp_mtu_probing = 1</span><br><span class="line">net.ipv4.tcp_congestion_control = hybla</span><br></pre></td></tr></table></figure>
<p>保存生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>查看hybla是否加载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod |grep hybla</span><br></pre></td></tr></table></figure>
<p>如果重启VPS没加载hybla模块。可以将<code>/sbin/modprobe tcp_hybla</code>写入<code>/etc/rc.local</code>自动启动</p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>通过上面的优化后SS在Y2B上的表现大大提高了。根据网络环境的不同。可能做的优化也有点不同。有的人也许只安装锐速就够了。有的人只做内核参数优化就够了。总之自己尝试吧。我也是半桶水。。毕竟网络这东西不确定性太多了。测试结果很难做比较。<br>优化后，Y2B能跑到5-15Mbps了。没优化前只能1-2Mbps。不排除不同时间段测试结果不具有比较性！</p>
<blockquote>
<p>一句话，自己用的爽就行了。</p>
</blockquote>
<p><img src="http://oevfty3i3.bkt.clouddn.com/20161026147745868558619.jpg?imageView2/0/format/jpg" alt="20161026147745868558619.jpg"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/18/MOSP之Safari-Extension（无证书签名）/" itemprop="url">
                  MOSP之Safari Extension（无证书签名）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-18T10:49:46+08:00" content="2016-10-18">
              2016-10-18
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift3/" itemprop="url" rel="index">
                    <span itemprop="name">Swift3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/18/MOSP之Safari-Extension（无证书签名）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/18/MOSP之Safari-Extension（无证书签名）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h3><p>Safari10支持App Extension。于是想做一个在视频页点击ToolbarItem后在MOSP解析播放，如果是电视剧，还将所有集都解析进播放列表。</p>
<blockquote>
<p>前提：Safari10只支持10.11.5以上的版本</p>
</blockquote>
<p><a href="/../../../../../2016/10/12/拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视/">拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视</a><br><img src="http://oevfty3i3.bkt.clouddn.com/2016101842228QQ20161018-4.png" alt="2016101842228QQ20161018-4.png"></p>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><blockquote>
<p>本文基于Xcode8.0和OS X EI Capitan 10.11.6</p>
</blockquote>
<p>Safari Extension Info需要设置SFSafariContentScript<em>（用于注入Script）</em>、SFSafariToolbarItem<em>(用于设置工具栏点击图标)</em>、SFSafariWebsiteAccess<em>(用于设置哪些网站允许注入使用改Extension)</em><br><img src="http://oevfty3i3.bkt.clouddn.com/2016101827497QQ20161018-0.png" alt="2016101827497QQ20161018-0.png"><br>要在Safari成功加载该App Extension还有几个需要注意的地方：</p>
<h4 id="Safari浏览器相关设置"><a href="#Safari浏览器相关设置" class="headerlink" title="Safari浏览器相关设置"></a>Safari浏览器相关设置</h4><p>Safari浏览器开发菜单需要在<strong><em>Safari设置–&gt;高级–&gt;在菜单栏显示“开发”菜单</em></strong>启用，然后在开发菜单中勾选上允许未签名的扩展</p>
<h4 id="Xcode中相关设置"><a href="#Xcode中相关设置" class="headerlink" title="Xcode中相关设置"></a>Xcode中相关设置</h4><h5 id="一、Safari-Extension-Deployment-Target设置"><a href="#一、Safari-Extension-Deployment-Target设置" class="headerlink" title="一、Safari Extension Deployment Target设置"></a>一、Safari Extension Deployment Target设置</h5><p>我用于开发的系统10.11.6，默认创建的Safari Extension模版中Deployment Target是10.12，不将Deployment Target设置为10.11的话编译后Safari浏览器扩展列表中始终不会加载。</p>
<h5 id="二、相关Swift文件的Target-Membership设置"><a href="#二、相关Swift文件的Target-Membership设置" class="headerlink" title="二、相关Swift文件的Target Membership设置"></a>二、相关Swift文件的Target Membership设置</h5><p>设置相关Swift文件的Target Membership是为了App与Safari Extension之间代码能直接重用<br><img src="http://oevfty3i3.bkt.clouddn.com/2016101837561QQ20161018-1.png" alt="2016101837561QQ20161018-1.png"></p>
<h5 id="三、App-Group设置"><a href="#三、App-Group设置" class="headerlink" title="三、App Group设置"></a>三、App Group设置</h5><p>准确的说，App与Safari Extension属于2个不同的App，所以要分别为App和Safari Extension设置App Group，二者都加入<strong>com.zlxdike.MOSP.Data</strong>同一个Group。这样才能让2个不同的App共享和交互数据。<br><img src="http://oevfty3i3.bkt.clouddn.com/2016101895221QQ20161018-2.png" alt="2016101895221QQ20161018-2.png"><br>通过上面的设置后，App与Safari Extension就可以共用代码和交互数据了。至于通过Swift如果共用数据简单说下吧。</p>
<ul>
<li>透过UserDefaults存取和读取需要共用的数据（比如本文中的播放列表）</li>
<li>透过NotificationCenter来Post通知数据更改。App ViewController接获通知，更新页面。</li>
</ul>
<p>下面是PlayListManage.swift相关代码</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  PlayListManage.swift</span></span><br><span class="line"><span class="comment">//  MOSP</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by zlxdike on 16/10/17.</span></span><br><span class="line"><span class="comment">//  Copyright © 2016年 zlxdike. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Cocoa</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlayListManage</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> playList:[<span class="type">NSArray</span>]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>()&#123;</span><br><span class="line">        playList = []</span><br><span class="line">        readPlayList()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">readPlayList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">let</span> myShared = <span class="type">UserDefaults</span>(suiteName: <span class="string">"com.zlxdike.MOSP.Data"</span>)</span><br><span class="line">        myShared?.synchronize()</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> playListDefults = myShared?.object(forKey: <span class="string">"PlayList"</span>) <span class="keyword">else</span> &#123; <span class="keyword">return</span>  &#125;</span><br><span class="line">        playList = playListDefults <span class="keyword">as</span>! [<span class="type">NSArray</span>]</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">savePlayList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">let</span> myShared = <span class="type">UserDefaults</span>(suiteName: <span class="string">"com.zlxdike.MOSP.Data"</span>)</span><br><span class="line">        myShared?.<span class="keyword">set</span>(<span class="keyword">self</span>.playList, forKey:<span class="string">"PlayList"</span>)</span><br><span class="line">        myShared?.synchronize()</span><br><span class="line">        <span class="type">DistributedNotificationCenter</span>.<span class="keyword">default</span>().post(name: <span class="type">Notification</span>.<span class="type">Name</span>(rawValue: <span class="string">"refreshPlayList"</span>), object: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(listStr: String)</span></span>&#123;</span><br><span class="line">        <span class="keyword">let</span> arr = listStr.components(separatedBy: <span class="string">"#*#"</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> arr&#123;</span><br><span class="line">            <span class="keyword">let</span> arrInfo = i.components(separatedBy: <span class="string">"*#*"</span>)</span><br><span class="line">            playList.append(arrInfo <span class="keyword">as</span> <span class="type">NSArray</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        savePlayList()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">allPlayList</span><span class="params">()</span></span> -&gt; [<span class="type">NSArray</span>]&#123;</span><br><span class="line">        readPlayList()</span><br><span class="line">        <span class="keyword">return</span> playList</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">PlayListManage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>我并没有个人证书来签名应用，所以每次重启Safari10都需要开启<strong><em>允许未签名扩展</em></strong>，于是该Safari Extension使用起来反而没想象中的方便。最后只能不了了之，就权当算是了解Safari Extension开发的相关技术与要求吧。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/Hexo写博文，HexoPD与MacDown更配哦！/" itemprop="url">
                  Hexo写博文，HexoPD与MacDown更配哦！
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-13T21:58:59+08:00" content="2016-10-13">
              2016-10-13
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift3/" itemprop="url" rel="index">
                    <span itemprop="name">Swift3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/13/Hexo写博文，HexoPD与MacDown更配哦！/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/13/Hexo写博文，HexoPD与MacDown更配哦！/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h3><p>写这个软件初衷也只是为了今后写博文方便点。每次创建新的post都要执行下面命令，也是挺烦的。</p>
<pre><code>cd ~/Documents/hexo                   # 进入Hexo根目录
hexo new post ${title}                # ${title}为博文标题
open -a macdown source/_post/${title} # 使用macdown打开
</code></pre><p>编辑完要发布还需要执行下面命令</p>
<pre><code>hexo g   # 等价于hexo generate 生成静态文件
hexo d   # 等价于hexo deploy   发布
</code></pre><p>也许还需要执行下面命令，清除或检查效果。</p>
<pre><code>hexo clean    # 清除已经生成的静态文件
hexo server   # 启动本地服务器查看
</code></pre><p>写一篇博文执行这些也无所谓了。可是当多写几篇。我会被烦死了。越来越懒。也许懒是进步的推动剂，于是有了HexoPD的诞生。顺便多熟悉下Swift3！</p>
<h3 id="HexoPD简介"><a href="#HexoPD简介" class="headerlink" title="HexoPD简介"></a>HexoPD简介</h3><p>作为博主，最常用的功能应该是post和deploy。故取名HexoPD。该App主要解决Hexo最常用的操作！<br>主要有以下功能：</p>
<ul>
<li>可设置打开Markdown文件软件，预设MacDown</li>
<li>新建博文并自动使用预设MacDown软件打开</li>
<li>列表化已有博文，并可以直接使用MacDown打开</li>
<li>一键Clean、Server、Generate、Deploy</li>
</ul>
<h3 id="HexoPD界面"><a href="#HexoPD界面" class="headerlink" title="HexoPD界面"></a>HexoPD界面</h3><p><img src="http://oevfty3i3.bkt.clouddn.com/2016101363201QQ20161013-2.png" alt="2016101363201QQ20161013-2.png"><br><img src="http://oevfty3i3.bkt.clouddn.com/2016101387467BE2FBC2D-D11B-4D06-9F5F-D18AD77DC341.png" alt="2016101387467BE2FBC2D-D11B-4D06-9F5F-D18AD77DC341.png"></p>
<h3 id="HexoPD下载地址"><a href="#HexoPD下载地址" class="headerlink" title="HexoPD下载地址"></a>HexoPD下载地址</h3><blockquote>
<p>下载地址：<a href="https://pan.baidu.com/s/1i5hUFsh" target="_blank" rel="noopener">https://pan.baidu.com/s/1i5hUFsh</a>  密码：tsqv</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视/" itemprop="url">
                  拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-12T23:50:34+08:00" content="2016-10-12">
              2016-10-12
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift3/" itemprop="url" rel="index">
                    <span itemprop="name">Swift3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/12/拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/12/拒绝Flash，视频搜索播放！支持优酷、爱奇艺、芒果TV、QQ视频、乐视/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h3><p>Mac对Flash的支持真的。。。哎！<br>曾经的ClickToPluginForChina也不再给力。<br>无奈。只能自己写一个。<br>初版。有点简陋。搜索接口调用的优酷的。。目前只支持常见的视频。</p>
<h3 id="MSOP界面"><a href="#MSOP界面" class="headerlink" title="MSOP界面"></a>MSOP界面</h3><p><img src="http://oevfty3i3.bkt.clouddn.com/2016101392167QQ20161008-0.png" alt="2016101392167QQ20161008-0.png"><br><img src="http://oevfty3i3.bkt.clouddn.com/2016101441316QQ20161014-0.png" alt="2016101441316QQ20161014-0.png"></p>
<blockquote>
<p>2016-10-08 Ver 1.0.0 初版<br>2016-10-08 Ver 1.1.0Fix Bug：播放视频再次搜索闪退<br>2016-10-09 Ver 1.1.1Fix Bug：资源解析失败，卡住。<br>2016-10-10 Ver 1.1.2Fix Bug<br>2016-10-14 ver 1.1.3新增：播放URL<br>2016-10-15 ver 1.1.4新增：快捷键（暂停、播放、前进、后退）</p>
</blockquote>
<h3 id="MSOP下载地址"><a href="#MSOP下载地址" class="headerlink" title="MSOP下载地址"></a>MSOP下载地址</h3><blockquote>
<p>下载地址：<a href="https://pan.baidu.com/s/1i5hUFsh" target="_blank" rel="noopener">https://pan.baidu.com/s/1i5hUFsh</a> 密码：tsqv </p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/使用Dropbox建立Git私有仓库/" itemprop="url">
                  使用Dropbox建立Git私有仓库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-11T22:55:27+08:00" content="2016-10-11">
              2016-10-11
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/11/使用Dropbox建立Git私有仓库/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/11/使用Dropbox建立Git私有仓库/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Git私有仓库的必要性：Github提供的仓库都是Public的，对于自己个人不想公开的代码，私有仓库就很有必要了。当然私有仓库还是有很多的。不过基本上都是需要付费的。。利用Dropbox来免费建立还是挺不错的！（当然国内很多同步盘都可以这样做。不过个人比较喜欢Dropbox，稳定，还能增量同步。大爱。）</p>
<blockquote>
<p>本文在你已经安装了Git和Dropbox的前提下进行</p>
</blockquote>
<h3 id="建立Git私有仓库"><a href="#建立Git私有仓库" class="headerlink" title="建立Git私有仓库"></a>建立Git私有仓库</h3><p>执行下面命令，注意 <strong><em>git init –bare</em></strong> 不要漏了参数。</p>
<pre><code>cd ~/Dropbox    #进入Dropbox目录
mkdir git       #建立仓库根目录
cd git          #进入仓库根目录
mkdir blog.git  #建立项目仓库
cd blog.git     #进入项目仓库
git init --bare #初始化私有仓库
</code></pre><h3 id="建立本地仓库"><a href="#建立本地仓库" class="headerlink" title="建立本地仓库"></a>建立本地仓库</h3><pre><code>cd ~/workspace    #切换到工作空间
mkdir blog        #建立项目目录
cd blog           #切换到项目目录
git init          #初始化
</code></pre><h3 id="为本地仓库增加私有仓库链接"><a href="#为本地仓库增加私有仓库链接" class="headerlink" title="为本地仓库增加私有仓库链接"></a>为本地仓库增加私有仓库链接</h3><pre><code>git add .         
git commit -m &quot;init&quot;
git remote add origin ~/Dropbox/git/blog.git
git push origin master
</code></pre><h3 id="macOS用SourceTree管理"><a href="#macOS用SourceTree管理" class="headerlink" title="macOS用SourceTree管理"></a>macOS用SourceTree管理</h3><p>讨厌输入命令push，可以用SourceTree进行管理push。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/Hello-Hexo/" itemprop="url">
                  Hello Hexo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-11T15:42:27+08:00" content="2016-10-11">
              2016-10-11
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope="" itemtype="https://schema.org/Thing">
                  <a href="/categories/杂文/" itemprop="url" rel="index">
                    <span itemprop="name">杂文</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/11/Hello-Hexo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/11/Hello-Hexo/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>想想距离第一次建站已经4年有余。当初果然也只是一时兴起，寥寥写了2篇不痛不痒的博文。当年用的Octopress，如今也不再更新了。现在使用Hexo来建站，希望真能坚持写下去。（说的好像用Hexo就会写下去似的）</p>
<p>好记性不如烂笔头。相信很多人建Blog很大原因都是为了记录，以便以后翻看。也许是越长大越觉得做这个有必要了（可能真老了）。</p>
<p>总之尽力记录下去吧。。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="zlxdike">
          <p class="site-author-name" itemprop="name">zlxdike</p>
          <p class="site-description motion-element" itemprop="description">努力就一定有未来？</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zlxdike</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zlxdike"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
</html>
